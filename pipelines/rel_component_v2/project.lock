data_gpu:
  cmd: python -m spacy run data_gpu
  script:
    - python ./scripts/rel_parse_data.py assets/annotations.jsonl data/train.spacy
      data/dev.spacy 0.2 1 ../ner_component/training/model-best
    - python ./scripts/rel_parse_data.py assets/annotations_test.jsonl data/test.spacy
      . 0 1 ../ner_component/training/model-best
  deps:
    - path: assets/annotations.jsonl
      md5: c8e0d53fc5c3d0479d7f4cb44fd85499
    - path: assets/annotations_test.jsonl
      md5: d7c42f334a877a85a705e0be0f360b75
    - path: scripts/rel_parse_data.py
      md5: afeddf013ffaecd78ee4b139fc007984
    - path: scripts/rel_pipeline.py
      md5: 9ad08044ab66585b56c0130e7934a465
  outs:
    - path: data/train.spacy
      md5: 67c0f8578454dcc31be6d1d7fe66aa87
    - path: data/dev.spacy
      md5: 89f4335af647ac82ccdf6aaaddf6e320
    - path: data/test.spacy
      md5: aa2b6ebbc6f3405909fc11b0d4d93fb1
  spacy_version: 3.0.6
  spacy_git_version: df3444421
data_cpu:
  cmd: python -m spacy run data_cpu
  script:
    - python ./scripts/rel_parse_data.py assets/annotations.jsonl data/train.spacy
      data/dev.spacy 0.2 0 ../ner_component/training/model-best assets/dependencies.json
      assets/partofspeech.json
  deps:
    - path: assets/annotations.jsonl
      md5: d7924544f4e44253041db0991910775b
  outs:
    - path: data/train.spacy
      md5: 390fbd2a198541e0efe335b18b8db360
    - path: data/dev.spacy
      md5: c3214599ff527cd28946c38e7b1e29d2
  spacy_version: 3.0.6
  spacy_git_version: df3444421
evaluate_cpu:
  cmd: python -m spacy run evaluate_cpu
  script:
    - python scripts/rel_eval.py training/model-best
  deps:
    - path: training/model-best
      md5: 2101850c92c4d80eaf136e942b6e9932
  outs: []
  spacy_version: 3.0.6
  spacy_git_version: df3444421
train_gpu:
  cmd: python -m spacy run train_gpu
  script:
    - python -m spacy train configs/rel_config.cfg --output training --paths.train
      data/train.spacy --paths.dev data/dev.spacy --paths.ner_model ../ner_component/training/model-best
      -c scripts/rel_reader.py --gpu-id 0
  deps:
    - path: configs/rel_config.cfg
      md5: 4dafdee1c9ea7e612bceea3e14745074
    - path: data/train.spacy
      md5: 67c0f8578454dcc31be6d1d7fe66aa87
    - path: data/dev.spacy
      md5: 89f4335af647ac82ccdf6aaaddf6e320
  outs:
    - path: training/model-best
      md5: 2afe116a6ee1bb41dc28065eca6aefdd
  spacy_version: 3.0.6
  spacy_git_version: df3444421
eval_gpu:
  cmd: python -m spacy run eval_gpu
  script:
    - python ./scripts/rel_eval.py data/test.spacy 1 training/model-best
  deps:
    - path: data/test.spacy
      md5: 53d0fbcedbac402062bda39b388144b0
    - path: training/model-best
      md5: 56bf8564370f2cc0108cab40c3d27b07
  outs: []
  spacy_version: 3.0.6
  spacy_git_version: df3444421
