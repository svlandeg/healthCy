data_gpu:
  cmd: python -m spacy run data_gpu
  script:
    - python ./scripts/rel_parse_data.py assets/annotations.jsonl data/train.spacy
      data/dev.spacy 0.2 1 ../ner_component/training/model-best assets/dependencies.json
      assets/partofspeech.json
    - python ./scripts/rel_parse_data.py assets/annotations_test.jsonl data/test.spacy
      . 0 1 ../ner_component/training/model-best assets/dependencies.json assets/partofspeech.json
  deps:
    - path: assets/annotations.jsonl
      md5: bb6eed0018f89b32c5121da6dadebb31
    - path: assets/annotations_test.jsonl
      md5: d7c42f334a877a85a705e0be0f360b75
  outs:
    - path: data/train.spacy
      md5: 917ea34795dd1aac258aeede986e3b4a
    - path: data/dev.spacy
      md5: 0082166bbb44f25325d217bceba01e18
    - path: data/test.spacy
      md5: a639b3ab00f7a3746daccf403ce54592
  spacy_version: 3.0.6
  spacy_git_version: df3444421
data_cpu:
  cmd: python -m spacy run data_cpu
  script:
    - python ./scripts/rel_parse_data.py assets/annotations.jsonl data/train.spacy
      data/dev.spacy 0.2 0 ../ner_component/training/model-best assets/dependencies.json
      assets/partofspeech.json
  deps:
    - path: assets/annotations.jsonl
      md5: d7924544f4e44253041db0991910775b
  outs:
    - path: data/train.spacy
      md5: 390fbd2a198541e0efe335b18b8db360
    - path: data/dev.spacy
      md5: c3214599ff527cd28946c38e7b1e29d2
  spacy_version: 3.0.6
  spacy_git_version: df3444421
evaluate_cpu:
  cmd: python -m spacy run evaluate_cpu
  script:
    - python scripts/rel_eval.py training/model-best
  deps:
    - path: training/model-best
      md5: 2101850c92c4d80eaf136e942b6e9932
  outs: []
  spacy_version: 3.0.6
  spacy_git_version: df3444421
train_gpu:
  cmd: python -m spacy run train_gpu
  script:
    - python -m spacy train configs/rel_config.cfg --output training --paths.train
      data/train.spacy --paths.dev data/dev.spacy --paths.ner_model ../ner_component/training/model-best
      --paths.dep assets/dependencies.json --paths.pos assets/partofspeech.json  -c
      scripts/rel_reader.py --gpu-id 0
  deps:
    - path: configs/rel_config.cfg
      md5: 71ff0965f98eded49e284a1b72e07868
    - path: data/train.spacy
      md5: 917ea34795dd1aac258aeede986e3b4a
    - path: data/dev.spacy
      md5: 0082166bbb44f25325d217bceba01e18
  outs:
    - path: training/model-best
      md5: 34489f09a209ee452265de42074cbbfc
  spacy_version: 3.0.6
  spacy_git_version: df3444421
eval_gpu:
  cmd: python -m spacy run eval_gpu
  script:
    - python ./scripts/rel_eval.py data/test.spacy 1 training/model-best
  deps:
    - path: data/test.spacy
      md5: a639b3ab00f7a3746daccf403ce54592
    - path: training/model-best
      md5: 34489f09a209ee452265de42074cbbfc
  outs: []
  spacy_version: 3.0.6
  spacy_git_version: df3444421
