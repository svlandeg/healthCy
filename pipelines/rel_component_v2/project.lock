data_gpu:
  cmd: python -m spacy run data_gpu
  script:
    - python ./scripts/rel_parse_data.py assets/annotations.jsonl data/train.spacy
      data/dev.spacy 0.2 1 ../ner_component/training/model-best assets/dependencies.json
      assets/partofspeech.json
  deps:
    - path: assets/annotations.jsonl
      md5: 8207d73c21b3ef182f106f173dc7e885
  outs:
    - path: data/train.spacy
      md5: f3db407e0b3b6258eea53cc418123f16
    - path: data/dev.spacy
      md5: ae9973fd4bffdf36a0d29a72c62c55ea
  spacy_version: 3.0.6
  spacy_git_version: df3444421
data_cpu:
  cmd: python -m spacy run data_cpu
  script:
    - python ./scripts/rel_parse_data.py assets/annotations.jsonl data/train.spacy
      data/dev.spacy 0.2 0 ../ner_component/training/model-best assets/dependencies.json
      assets/partofspeech.json
  deps:
    - path: assets/annotations.jsonl
      md5: d7924544f4e44253041db0991910775b
  outs:
    - path: data/train.spacy
      md5: 390fbd2a198541e0efe335b18b8db360
    - path: data/dev.spacy
      md5: c3214599ff527cd28946c38e7b1e29d2
  spacy_version: 3.0.6
  spacy_git_version: df3444421
evaluate_cpu:
  cmd: python -m spacy run evaluate_cpu
  script:
    - python scripts/rel_eval.py training/model-best
  deps:
    - path: training/model-best
      md5: 2101850c92c4d80eaf136e942b6e9932
  outs: []
  spacy_version: 3.0.6
  spacy_git_version: df3444421
train_gpu:
  cmd: python -m spacy run train_gpu
  script:
    - python -m spacy train configs/rel_config.cfg --output training --paths.train
      data/train.spacy --paths.dev data/dev.spacy --paths.ner_model ../ner_component/training/model-best
      --paths.dep assets/dependencies.json --paths.pos assets/partofspeech.json  -c
      scripts/rel_reader.py --gpu-id 0
  deps:
    - path: data/train.spacy
      md5: 7887f8723ff31438789abbece3cd944d
    - path: data/dev.spacy
      md5: 17b7bb2ea41020edf1766fb426d1c438
  outs:
    - path: training/model-best
      md5: 427378a42f25af399d562b609c6ac3ed
  spacy_version: 3.0.6
  spacy_git_version: df3444421
